<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verifier Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; }
header { background:#2c3e50; color:white; width:100%; padding:15px; text-align:center; }
.container { background:white; padding:20px; border-radius:8px; margin-top:20px; width:90%; max-width:1000px; box-shadow:0 0 15px rgba(0,0,0,0.2); }
button { background:#3498db; color:white; border:none; padding:10px; margin:5px; border-radius:5px; cursor:pointer; font-weight:bold; }
button:hover { background:#2980b9; }
table { width:100%; border-collapse: collapse; margin-top:20px; }
th, td { border:1px solid #ccc; padding:10px; text-align:left; }
tr:nth-child(even) { background:#f9f9f9; }
tr:nth-child(odd) { background:#ffffff; }
tr:hover { background:#d0ebff; }
.modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background:rgba(0,0,0,0.5); }
.modal-content { background:#fff; margin:10% auto; padding:20px; border-radius:10px; width:90%; max-width:500px; position:relative; }
.close { position:absolute; top:10px; right:15px; font-size:24px; font-weight:bold; cursor:pointer; }
input { width:100%; padding:8px; margin:5px 0; border-radius:5px; border:1px solid #ccc; }
</style>
</head>
<body>

<header><h1>Verifier Dashboard</h1></header>

<div class="container">
  <div>
    <button id="openCompanyModalBtn">Add Company</button>
    <button id="openPropertyModalBtn">Add Property</button>
    <button id="openVehicleModalBtn">Add Vehicle</button>
    <button id="openSampleModalBtn">Add DNA Sample</button>
    <button id="openProfessionModalBtn">Add Profession</button>
    <button onclick="logout()" style="background:#e74c3c;">Logout</button>
  </div>

  <table id="resultsTable">
    <thead>
      <tr><th>ID</th><th>Name / Details</th><th>Type</th><th>Status</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- ================= MODALS ================= -->
<!-- Company Modal -->
<div id="addCompanyModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Add Company</h2>
    <form id="addCompanyForm">
      <input type="text" name="companyID" placeholder="Company ID" required>
      <input type="text" name="companyName" placeholder="Company Name" required>
      <button type="submit">Add Company</button>
    </form>
  </div>
</div>

<!-- Property Modal -->
<div id="addPropertyModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Add Property</h2>
    <form id="addPropertyForm">
      <input type="text" name="propertyID" placeholder="Property ID" required>
      <input type="text" name="propertyName" placeholder="Property Name" required>
      <input type="text" name="ownerName" placeholder="Owner Full Name" required>
      <input type="text" name="ownerID" placeholder="Owner ID" required>
      <input type="text" name="stand" placeholder="Stand/Plot Number" required>
      <input type="date" name="purchaseDate" placeholder="Purchase Date" required>
      <button type="submit">Add Property</button>
    </form>
  </div>
</div>

<!-- Vehicle Modal -->
<div id="addVehicleModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Add Vehicle</h2>
    <form id="addVehicleForm">
      <input type="text" name="vehicleID" placeholder="Vehicle ID" required>
      <input type="text" name="vehicleType" placeholder="Vehicle Type" required>
      <input type="text" name="ownerName" placeholder="Owner Name" required>
      <input type="text" name="ownerID" placeholder="Owner ID" required>
      <input type="text" name="makeModel" placeholder="Make / Model" required>
      <input type="text" name="year" placeholder="Year" required>
      <button type="submit">Add Vehicle</button>
    </form>
  </div>
</div>

<!-- DNA Sample Modal -->
<div id="addSampleModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Add DNA Sample</h2>
    <form id="addSampleForm">
      <input type="text" name="sampleID" placeholder="Sample ID" required>
      <input type="text" name="personName" placeholder="Donor / Suspect Name" required>
      <input type="text" name="type" placeholder="Sample Type" required>
      <input type="date" name="dateCollected" placeholder="Collection Date" required>
      <button type="submit">Add Sample</button>
    </form>
  </div>
</div>

<!-- Profession Modal -->
<div id="addProfessionModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Add Profession</h2>
    <form id="addProfessionForm">
      <input type="text" name="professionID" placeholder="Profession ID" required>
      <input type="text" name="professionName" placeholder="Profession Name" required>
      <button type="submit">Add Profession</button>
    </form>
  </div>
</div>

<script>
if(!localStorage.getItem("verifierLogged")){
  alert("Please login first");
  window.location.href="index.html";
}

function logout(){ 
  localStorage.removeItem("verifierLogged"); 
  window.location.href="index.html"; 
}

// Modal setup
function setupModal(btnId, modalId){
  const modal = document.getElementById(modalId);
  const btn = document.getElementById(btnId);
  const close = modal.querySelector('.close');
  btn.onclick = ()=> modal.style.display='block';
  close.onclick = ()=> modal.style.display='none';
  window.onclick = e=>{ if(e.target===modal) modal.style.display='none'; };
}

setupModal('openCompanyModalBtn','addCompanyModal');
setupModal('openPropertyModalBtn','addPropertyModal');
setupModal('openVehicleModalBtn','addVehicleModal');
setupModal('openSampleModalBtn','addSampleModal');
setupModal('openProfessionModalBtn','addProfessionModal');

// Form handling
function setupForm(formId,type){
  const form = document.getElementById(formId);
  form.onsubmit = e=>{
    e.preventDefault();
    const tbody = document.querySelector('#resultsTable tbody');
    const tr = document.createElement('tr');
    const values = Array.from(form.elements).filter(f=>f.tagName==='INPUT').map(f=>f.value);
    tr.innerHTML = `<td>${values[0]}</td><td>${values.slice(1).join(' | ')}</td><td>${type}</td><td>Pending</td>`;
    tbody.appendChild(tr);
    form.reset();
    form.closest('.modal').style.display='none';
  }
}

setupForm('addCompanyForm','Company');
setupForm('addPropertyForm','Property');
setupForm('addVehicleForm','Vehicle');
setupForm('addSampleForm','DNA Sample');
setupForm('addProfessionForm','Profession');
</script>

</body>
</html>

